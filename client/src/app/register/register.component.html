<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div>
    <mat-form-field>
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" type="text" id="username">
      <mat-error *ngIf="registerForm.get('username')?.hasError('minlength') || registerForm.get('username')?.hasError('required')">Username must be at least 6 characters long</mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" id="email">
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Email is required</mat-error>
      <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Invalid email address</mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password" id="password">
      <mat-error *ngIf="registerForm.get('password')?.hasError('required')">Password is required</mat-error>
      <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">Password must be at least 8 characters long</mat-error>
    </mat-form-field>
  </div>
  <button mat-flat-button type="submit">Register</button>
</form>

<div *ngIf="registrationSuccess">
  <p>Registration successful! Redirecting to login...</p>
  <p>If not redirected, <a routerLink="/login">click here to login</a>.</p>
</div>
